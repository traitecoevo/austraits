<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>austraits • austraits</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="austraits">
<meta property="og:description" content="austraits">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">austraits</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/austraits.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dictionary.html">Data dictionary</a>
    </li>
    <li>
      <a href="../articles/structure.html">Structure of AusTraits data compilation</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="austraits_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>austraits</h1>
                        <h4 class="author">Fonti Kar, Daniel Falster</h4>
            
            <h4 class="date">2-Jun-2021</h4>
      
      
      <div class="hidden name"><code>austraits.Rmd</code></div>

    </div>

    
    
<p>The <code>austraits</code> package is designed to aid users to access data from AusTraits, a curated plant trait database for the Australian flora. This package contains several core functions to wrangle and visualise data. Below we included a tutorial to illustrate how to use these functions in greater detail.</p>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p><code>austraits</code> is still under development. To install the current version from github</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"traitecoevo/austraits"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Load the austraits package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">austraits</span><span class="op">)</span></code></pre></div>
<div id="meta-data-for-traits" class="section level3">
<h3 class="hasAnchor">
<a href="#meta-data-for-traits" class="anchor"></a>Meta-data for traits</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># List of all traits</span>
<span class="va">austraits</span><span class="op">$</span><span class="va">definitions</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">elements</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> ; <span class="va">austraits</span><span class="op">$</span><span class="va">definitions</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">elements</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<pre><code>#&gt; [1] "accessory_cost_mass"     "accessory_cost_fraction"
#&gt; [3] "bark_delta13C"           "bark_delta15N"          
#&gt; [5] "bark_mass_area"          "bark_density"</code></pre>
<pre><code>#&gt; [1] "dead_wood_P_per_dry_mass"  "dead_wood_K_per_dry_mass" 
#&gt; [3] "dead_wood_Ca_per_dry_mass" "dead_wood_Mg_per_dry_mass"
#&gt; [5] "dead_wood_Na_per_dry_mass" "woodiness"</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Description of a particular trait, its variable type, the units the trait is measured in and the range of trait values</span>
<span class="va">austraits</span><span class="op">$</span><span class="va">definitions</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">elements</span><span class="op">$</span><span class="va">leaf_angle</span></code></pre></div>
<pre><code>#&gt; $description
#&gt; [1] "Leaf angle, relative to horizontal"
#&gt; 
#&gt; $type
#&gt; [1] "numeric"
#&gt; 
#&gt; $units
#&gt; [1] "degrees"
#&gt; 
#&gt; $label
#&gt; [1] "Leaf angle, relative to horizontal"
#&gt; 
#&gt; $values
#&gt; $values$minimum
#&gt; [1] -180
#&gt; 
#&gt; $values$maximum
#&gt; [1] 180</code></pre>
</div>
</div>
<div id="extracting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-data" class="anchor"></a>Extracting data</h2>
<p>AusTraits contains 446 plant traits. In most cases, users would like to extract a subset of the dataset for their own research purposes. <code>extract_dataset</code>extracts a particular study, whereas <code>extract_trait</code>subsets by certain traits. Note that the other tables and elements of the austraits data are extracted too, not just the main trait table. See <code><a href="../reference/extract_dataset.html">?extract_dataset</a></code> and <code><a href="../reference/extract_trait.html">?extract_trait</a></code> for more details</p>
<div id="extracting-by-study" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-by-study" class="anchor"></a>Extracting by study</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filtering one particular study and assigning it to an object</span>
<span class="va">zanne_09</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_dataset.html">extract_dataset</a></span><span class="op">(</span><span class="va">austraits</span>, <span class="st">"Zanne_2009"</span><span class="op">)</span> <span class="co">#Extract from austraits</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">zanne_09</span><span class="op">)</span> <span class="co"># The function extracts all the other tables and elements</span></code></pre></div>
<pre><code>#&gt;  [1] "traits"            "sites"             "contexts"         
#&gt;  [4] "methods"           "excluded_data"     "taxonomic_updates"
#&gt;  [7] "taxa"              "definitions"       "contributors"     
#&gt; [10] "sources"           "build_info"</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filtering multiple studies by same lead author (e.g. Falster) and assigning it to an object</span>
<span class="op">(</span> <span class="va">dataset_ids</span> <span class="op">&lt;-</span> <span class="va">austraits</span><span class="op">$</span><span class="va">methods</span><span class="op">$</span><span class="va">dataset_id</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">)</span> <span class="co">#All possible dataset_ids </span></code></pre></div>
<pre><code>#&gt; [1] "Falster_2003"   "Falster_2005_1" "Falster_2005_2" "Zanne_2009"</code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span> <span class="va">falster_ids</span> <span class="op">&lt;-</span> <span class="va">dataset_ids</span><span class="op">[</span><span class="fu">str_which</span><span class="op">(</span><span class="va">dataset_ids</span>, <span class="st">"Falster"</span><span class="op">)</span><span class="op">]</span> <span class="op">)</span>  <span class="co"># Extracting dataset_ids with lead author "Falster" </span></code></pre></div>
<pre><code>#&gt; [1] "Falster_2003"   "Falster_2005_1" "Falster_2005_2"</code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">falster_studies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_dataset.html">extract_dataset</a></span><span class="op">(</span><span class="va">austraits</span>, <span class="va">falster_ids</span><span class="op">)</span> <span class="co"># Extract from austraits</span>
<span class="va">falster_studies</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">dataset_id</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<pre><code>#&gt; [1] "Falster_2003"   "Falster_2005_1" "Falster_2005_2"</code></pre>
</div>
<div id="extracting-by-trait" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-by-trait" class="anchor"></a>Extracting by trait</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filtering one particular trait and assigning it to an object</span>
<span class="va">sla_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_trait.html">extract_trait</a></span><span class="op">(</span><span class="va">austraits</span>, <span class="st">"specific_leaf_area"</span><span class="op">)</span> <span class="co">#Extract from austraits</span>
<span class="va">sla_data</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">trait_name</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; [1] "specific_leaf_area"</code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filtering all leaf associated data and assigning it to an object</span>
<span class="op">(</span> <span class="va">traits</span> <span class="op">&lt;-</span> <span class="va">austraits</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">trait_name</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">)</span> <span class="co">#All possible traits </span></code></pre></div>
<pre><code>#&gt;  [1] "leaf_angle"           "leaf_area"            "leaf_compoundness"   
#&gt;  [4] "branch_mass_fraction" "huber_value"          "leaf_N_per_dry_mass" 
#&gt;  [7] "seed_mass"            "specific_leaf_area"   "wood_density"        
#&gt; [10] "fire_response"        "plant_height"</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span> <span class="va">leaf_traits</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span><span class="fu">str_which</span><span class="op">(</span><span class="va">traits</span>, <span class="st">"leaf"</span><span class="op">)</span><span class="op">]</span> <span class="op">)</span>  <span class="co"># Extracting data where "leaf" occurs in the trait_name</span></code></pre></div>
<pre><code>#&gt; [1] "leaf_angle"          "leaf_area"           "leaf_compoundness"  
#&gt; [4] "leaf_N_per_dry_mass" "specific_leaf_area"</code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leaf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_trait.html">extract_trait</a></span><span class="op">(</span><span class="va">austraits</span>, <span class="va">leaf_traits</span><span class="op">)</span> <span class="co"># Extract from austraits</span>
<span class="va">leaf_data</span><span class="op">$</span><span class="va">traits</span><span class="op">$</span><span class="va">trait_name</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<pre><code>#&gt; [1] "leaf_angle"          "leaf_area"           "leaf_compoundness"  
#&gt; [4] "leaf_N_per_dry_mass" "specific_leaf_area"</code></pre>
</div>
<div id="pivotting-wide-to-long-format" class="section level3">
<h3 class="hasAnchor">
<a href="#pivotting-wide-to-long-format" class="anchor"></a>Pivotting wide to long format</h3>
</div>
</div>
<div id="join-data-from-other-tables-and-elements" class="section level2">
<h2 class="hasAnchor">
<a href="#join-data-from-other-tables-and-elements" class="anchor"></a>Join data from other tables and elements</h2>
<p>Once users have extracted the data they want, they may want to merge in other study details into the main traits dataframe for their analyses. For example, users may require taxonomic information for a phylogenetic analysis. This is where the <code>join_</code> functions come in. There are five <code>join_</code> functions in total, each designed to append specific information from other tables and elements in the <code>austraits</code> object. Their suffixes refer to the type of information that is joined, e.g. <code>join_taxonomy</code> appends taxonomic information to the <code>traits</code> dataframe. See <code><a href="../reference/join_all.html">?join_all</a></code> for more details.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Join taxonomic information </span>
<span class="op">(</span><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_taxonomy</span><span class="op">)</span><span class="op">$</span><span class="va">traits</span></code></pre></div>
<pre><code>#&gt; # A tibble: 306 x 16
#&gt;    dataset_id taxon_name site_name context_name observation_id trait_name  value
#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
#&gt;  1 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   66.1
#&gt;  2 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   319  
#&gt;  3 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  4 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   71.7
#&gt;  5 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   562  
#&gt;  6 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  7 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   50.8
#&gt;  8 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area  1590  
#&gt;  9 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt; 10 Falster_2… Banksia m… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   53.1
#&gt; # … with 296 more rows, and 9 more variables: unit &lt;chr&gt;, date &lt;chr&gt;,
#&gt; #   value_type &lt;fct&gt;, replicates &lt;chr&gt;, original_name &lt;chr&gt;, family &lt;chr&gt;,
#&gt; #   genus &lt;chr&gt;, taxonRank &lt;chr&gt;, acceptedNameUsageID &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Join methodological information </span>
<span class="op">(</span><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_methods</span><span class="op">)</span><span class="op">$</span><span class="va">traits</span></code></pre></div>
<pre><code>#&gt; # A tibble: 306 x 16
#&gt;    dataset_id taxon_name site_name context_name observation_id trait_name  value
#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
#&gt;  1 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   66.1
#&gt;  2 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   319  
#&gt;  3 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  4 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   71.7
#&gt;  5 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   562  
#&gt;  6 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  7 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   50.8
#&gt;  8 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area  1590  
#&gt;  9 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt; 10 Falster_2… Banksia m… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   53.1
#&gt; # … with 296 more rows, and 9 more variables: unit &lt;chr&gt;, date &lt;chr&gt;,
#&gt; #   value_type &lt;fct&gt;, replicates &lt;chr&gt;, original_name &lt;chr&gt;, methods &lt;chr&gt;,
#&gt; #   year_collected_start &lt;chr&gt;, year_collected_end &lt;chr&gt;, collection_type &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Join site based information </span>
<span class="op">(</span><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_sites</span><span class="op">)</span><span class="op">$</span><span class="va">traits</span></code></pre></div>
<pre><code>#&gt; # A tibble: 306 x 14
#&gt;    dataset_id taxon_name site_name context_name observation_id trait_name  value
#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
#&gt;  1 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   66.1
#&gt;  2 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   319  
#&gt;  3 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  4 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   71.7
#&gt;  5 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   562  
#&gt;  6 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  7 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   50.8
#&gt;  8 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area  1590  
#&gt;  9 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt; 10 Falster_2… Banksia m… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   53.1
#&gt; # … with 296 more rows, and 7 more variables: unit &lt;chr&gt;, date &lt;chr&gt;,
#&gt; #   value_type &lt;fct&gt;, replicates &lt;chr&gt;, original_name &lt;chr&gt;,
#&gt; #   latitude (deg) &lt;chr&gt;, longitude (deg) &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Join context information </span>
<span class="op">(</span><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_contexts</span><span class="op">)</span><span class="op">$</span><span class="va">traits</span></code></pre></div>
<pre><code>#&gt; # A tibble: 306 x 12
#&gt;    dataset_id taxon_name site_name context_name observation_id trait_name  value
#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
#&gt;  1 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   66.1
#&gt;  2 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   319  
#&gt;  3 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  4 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   71.7
#&gt;  5 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   562  
#&gt;  6 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  7 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   50.8
#&gt;  8 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area  1590  
#&gt;  9 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt; 10 Falster_2… Banksia m… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   53.1
#&gt; # … with 296 more rows, and 5 more variables: unit &lt;chr&gt;, date &lt;chr&gt;,
#&gt; #   value_type &lt;fct&gt;, replicates &lt;chr&gt;, original_name &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Alternatively users can join *all* information </span>
<span class="op">(</span><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_all</span><span class="op">)</span><span class="op">$</span><span class="va">traits</span></code></pre></div>
<pre><code>#&gt; # A tibble: 306 x 22
#&gt;    dataset_id taxon_name site_name context_name observation_id trait_name  value
#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
#&gt;  1 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   66.1
#&gt;  2 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   319  
#&gt;  3 Falster_2… Acacia my… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  4 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   71.7
#&gt;  5 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area   562  
#&gt;  6 Falster_2… Acacia su… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt;  7 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   50.8
#&gt;  8 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_area  1590  
#&gt;  9 Falster_2… Angophora… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_comp…   NA  
#&gt; 10 Falster_2… Banksia m… Ku-ring-… &lt;NA&gt;         Falster_2003_… leaf_angle   53.1
#&gt; # … with 296 more rows, and 15 more variables: unit &lt;chr&gt;, date &lt;chr&gt;,
#&gt; #   value_type &lt;fct&gt;, replicates &lt;chr&gt;, original_name &lt;chr&gt;,
#&gt; #   latitude (deg) &lt;chr&gt;, longitude (deg) &lt;chr&gt;, family &lt;chr&gt;, genus &lt;chr&gt;,
#&gt; #   taxonRank &lt;chr&gt;, acceptedNameUsageID &lt;chr&gt;, methods &lt;chr&gt;,
#&gt; #   year_collected_start &lt;chr&gt;, year_collected_end &lt;chr&gt;, collection_type &lt;chr&gt;</code></pre>
</div>
<div id="visualising-data-by-site" class="section level2">
<h2 class="hasAnchor">
<a href="#visualising-data-by-site" class="anchor"></a>Visualising data by site</h2>
<p><code>plot_site_locations</code> graphically summarises where trait data was collected from and how much data is available. The legend refers to the number of neighbouring points, the more warmer the colour, the more data is available. This function only works for studies that are geo-referenced. Users must first use <code>join_sites</code> to append latitude and longtitude information into the trait dataframe before plotting</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leaf_data</span> <span class="op">&lt;-</span> <span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="va">join_sites</span>
<span class="va">leaf_data</span><span class="op">$</span><span class="va">traits</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/plot_site_locations.html">plot_site_locations</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="austraits_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div id="visualising-data-distribution-and-variance" class="section level2">
<h2 class="hasAnchor">
<a href="#visualising-data-distribution-and-variance" class="anchor"></a>Visualising data distribution and variance</h2>
<p><code>plot_trait_distribution</code> creates histograms and <a href="https://github.com/eclarke/ggbeeswarm">beeswarm plots</a> for specific traits to help users visualise the variance of the data. Users can specific whether to create seperate beeswarm plots at the level of taxonomic family or for each <code>dataset_id</code></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/plot_trait_distribution_beeswarm.html">plot_trait_distribution_beeswarm</a></span><span class="op">(</span><span class="st">"leaf_area"</span>, <span class="st">"family"</span><span class="op">)</span></code></pre></div>
<p><img src="austraits_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leaf_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/plot_trait_distribution_beeswarm.html">plot_trait_distribution_beeswarm</a></span><span class="op">(</span><span class="st">"leaf_area"</span>, <span class="st">"dataset_id"</span><span class="op">)</span></code></pre></div>
<p><img src="austraits_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Falster.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
